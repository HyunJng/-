# 당근 북스
국비활동 후 파이널 프로젝트(온라인서점 기능 구현)
| 항목 | 내용 |
|-------|---|
|✏️ 한줄 소개 | CRUD를 충실히 구현한 온라인 서점 프로젝트 |
| 🗓️ 진행 기간 | 2023.02~ 2023.05 (1.5개월) |
| 👥 팀 구성 | 김현정 |
| 🧩 Skills & Libraries | ```Java 1.8```, ```Spring 4.3```, ```Maven```, ```Oracle```, ```myBatis```, ```JSP```, ```jQuery```, ```javax mail```, ```SpringSecurity```, ```STS``` |

## ✨ 프로젝트 계획 이유
> 6개월 동안 국비 지원으로 Java Full Stack 과정을 수료한 후,
> 쌓은 지식과 기술들을 실제 프로젝트에 적용해보고자 결심하게 되었습니다.
>
> 프로젝트의 주제로는 제품 관리, 주문 처리, 결제 시스템, 회원 관리, 댓글, 게시판 등 다양한 기능들을 포함하는
> '웹 도서 쇼핑몰'이 가장 적합하다고 생각하였습니다.
> 모든 기능을 DB설계부터 프론트 구현까지 모두 혼자 구현하여 웹 개발자의 역량을 쌓을 수 있었습니다.

## ERD
![image](https://github.com/HyunJng/carrot-book-project/assets/91371889/8a8a7e2f-567f-4189-a9f2-0c287d504288)

## 주요 기능 동작 화면
### 1. 일반회원
**1.1) 회원가입/로그인**
| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/8447a16e-06cf-4265-a984-361c11a8fb04" width="1000" /> |회원가입을 위해서는 `이메일`과 `비밀번호`, `주소`를 필수적으로 작성해야합니다.<br><br>이메일은 중복확인과 **JavaMail & Naver Mail**을 사용한 **인증 코드** 회원 안정성을 높일 수 있도록 구현했습니다.<br><br>주소 입력은 편의성을 위해 **카카오 주소 API**를 사용하여 검색할 수 있도록 구현했습니다|

**1.2) 검색 기능**
| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/463ab489-b1fb-4c81-ad2c-7b42cfcc14e9" width="700" /> | 제목, 작가, 책 소개를 통해 책을 검색할 수 있습니다. <br><br>또한 카테고리를 도입하여 같은 계열의 책을 검색할 수도 있도록 구현했습니다.<br><br>**카테고리는 변경될 가능성**이 있는 정보이므로 JSP에서 하드코딩하지않고<br> **JQuery문을 통해 서버에서 카테고리 리스트를 가져올 수 있도록 구현**했습니다.|

**1.3) 댓글 기능**
| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/0869942a-7821-476a-bc4d-ab4f9bd2d311" width="700" /> | 제목, 작가, 책 소개를 통해 책을 검색할 수 있습니다. <br><br>또한 카테고리를 도입하여 같은 계열의 책을 검색할 수도 있도록 구현했습니다.<br><br>**카테고리는 변경될 가능성**이 있는 정보이므로 JSP에서 하드코딩하지않고<br> **JQuery문을 통해 서버에서 카테고리 리스트를 가져올 수 있도록 구현**했습니다.|

**1.4) 장바구니 & 결제**
| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/1f8fee00-15b2-4713-8aa0-ce502de82c95" width="650" /> | 하나의 계정은 책마다 하나의 댓글을 작성할 수 있습니다. <br><br>일반 사용자들은 본인의 댓글만 작성&수정&삭제할 수 있으나 <br>관리자의 경우 모든 회원들의 댓글을 삭제할 수 있도록 구현했습니다.|

### 2. 관리자
| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/433951d7-c1b4-46f0-8ca8-59663495d9af" width="700" /> | 관리자는 책을 등록하고 정보를 관리할 수 있습니다. <br><br>책을 등록하는 것은 카카오의 도서 API를 사용하여 책에 대한 정보를 가져왔습니다.<br>따라서 관리자는 추가로 수량과 카테고리, 할인률에 대한 설정한 뒤 DB에 저장할 수 있습니다.<br><br> 카테고리는 대/중/소로 나누어 적용할 수 있으며 <br>상위 카테고리에 따라 선택하는 하위 카테고리가 다르게 나오도록 구현했습니다.|

| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/6003acab-b20a-45c8-b009-a0440434d291" width="700" /> | 회원을 이메일을 통해 검색할 수 있고 회원이 현재 활동하고 있는 정보를 볼 수 있습니다. <br><br>관리자는 회원이 작성한 댓글을 삭제할 수 있으며 회원탈퇴 처리와 금지회원 처리를 할 수 있습니다.|

| 동작 화면 | 설명 |
| :-------------------------------------------: | :------------ |
| <img src="https://github.com/HyunJng/carrot-book-project/assets/91371889/95f60f9f-64b1-43b1-9b8d-911acfa61b3f" width="700" /> | 주문에 대한 정보를 관리할 수 있습니다.  <br><br>각 주문 별로 주문된 책에 대한 정보, 가격, 회원정보, 사용 포인트 등을 확인할 수 있으며<br>주문은 취소 처리로 변경할 수도 있습니다.|

## 🌠 trouble shooting
### 순환 참조 문제 발생
스프링 순환 참조(Circular Reference)란 서로 다른 빈들이 서로 참조를 맞물리게 주입되면서 생기는 현상입니다.
회원 조회와 관련하여 중복된 코드를 짜지 않기 위해 MemberService와 AdminService를 양방향으로 주입하게 되었고 
이후 모든 Service는 Repository만을 주입받도록 규칙을 정하고, 각 Service마다 명확하게 역할을 나누어 이런 문제가 발생하지 않도록 조치를 취하였습니다.
또한 짧은 교육기간의 한계로 스프링에 이해가 많이 부족하여 이런 발생하였다고 생각하여
프로젝트가 끝난 뒤 개인적으로 스프링에 대해 다시 공부하게되는 계기가 되었습니다.
[스프링을 공부한 흔적](https://github.com/HyunJng/SpringStudy)

### Git과 관리 미숙으로 인한 민감정보 유출 문제 발생
회원가입시 인증 코드를 입력하는 기능을 구현하기 위해 JavaMail을 사용하게되며 root-context.xml파일에 저의 네이버 개인 계정 정보와 함께 mailSender 빈을 등록하였습니다. 
당시 저는 git에 대한 이해가 부족하여 아무런 조치 없이 파일을 그대로 깃에 올리는 실수를 범하게 되었습니다.
이후 저의 네이버 계정이 해킹당하게 되고 조치를 취하기 위해, 또 앞으로 같은 발생하지 않기 위해서는 어떤 조치를 해야하는지 공부하였습니다.
1. 프로젝트가 시작될 때 민감정보가 들어있는 파일은 따로 관리하고, 형상관리가 되지 않도록 .gitignore에 추가해야합니다.
2. 만약 실수로 github에 해당 파일을 올렸다면 바로 1에 대한 조치를 취한 후 push한 후에 캐시와 히스토리까지 삭제해야합니다.
    a. 해당 파일이 올라간 커밋 내역 자체를 삭제하도록 checkout명령어를 통해 과거 내역으로 돌아간 뒤 이후의 커밋을 모두 reset합니다.
    b. 임시 브랜치를 만들어 최신 상태의 파일을 덮어쓰도록 해야합니다.
    c. 원래 브랜치에 merge한 후 강제로 push합니다.
이 일 덕분에 이후 깃에 대한 이전보다 높아졌으며, 앞으로 진행할 프로제긑에서는 이러한 일이 발생하지 않도록 민감정보를 주의해서 다루는 법을 깨우칠 수 있었습니다.

## 프로젝트의 소감과 앞으로의 계획
- **웹개발의 전체 과정에 대해 직접 체험하고 학원에서 배운 기본적인 CRUD를 복습해볼 수 있었습니다.**
    처음에는 쇼핑몰이라는 주제가 너무 단순한 것이 아닌가 걱정이 많았습니다.
    하지만 간단한 쇼핑몰로 최소한의 기능만을 구현했음에도 개발 중간에 생각지도 못한 오류가 발생하기도 하고,
    배울 때와 직접 구현할 때의 차이가 커서 생각했던 것 만큼 개발이라는 것이 쉬운 일이 아니라는 점을 체감할 수 있었습니다.
    무사히 학원 수료까지 개발을 마칠 수 있었으나 여유를 두고 개발해야한다는 점과 피상적인 지식이 사실 모르는 것과 같다는 것을 절실히 깨닫고
    무엇이든 배우고난 후 간단하게라도 실전에 적용해보는 경험을 가져야한다는 것을 배웠습니다.
    
- **더 학습해야할 인사이트를 얻을 수 있었습니다.**
    프로젝트를 진행하며 겪은 에러를 해결하면서 Spring Boot와 같이 보다 더 편리하게 개발할 수 있는 기술이 존재한다는 것을 알게되었습니다.
    Spring Boot와 Restful API 등에 대해 추가적인 공부를 진행하며 개발 실력을 향상할 수 있도록 노력하겠습니다.
